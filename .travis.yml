matrix:
    include:
        - os: osx
          sudo: required
          osx_image: xcode11.2
          language: node_js
          node_js: "12"
          env:
              - ELECTRON_CACHE=$HOME/.cache/electron
              - ELECTRON_BUILDER_CACHE=$HOME/.cache/electron-builder
              - TRAVIS_OS_NAME=macosx
              - CI=false

compiler:
    - gcc
    - clang

cache:
    directories:
        - assets
        - node_modules
        - $HOME/.cache/electron
        - $HOME/.cache/electron-builder

script:
    - npm install
    - npm run build

before_cache:
    - rm -rf $HOME/.cache/electron-builder/

notifications:
    email:
        - lahiri.devs@gmail.com

branches:
    except:
        - "/^v\\d+\\.\\d+\\.\\d+$/"
